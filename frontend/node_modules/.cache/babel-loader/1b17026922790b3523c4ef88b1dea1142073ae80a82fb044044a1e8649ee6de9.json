{"ast":null,"code":"import React,{useState,useEffect}from'react';import{CandlestickChart}from'./CandleStickChart';import{useNavigate}from'react-router-dom';import'./Card.css';import axios from'axios';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Card=_ref=>{let{symbol}=_ref;const apiKey=process.env.REACT_APP_API_KEY;const[stockdata,setstockdata]=useState(null);const[latestData,setlatestData]=useState([]);const navigate=useNavigate();useEffect(()=>{axios.get(\"https://www.alphavantage.co/query?function=TIME_SERIES_INTRADAY&symbol=\".concat(symbol,\"&interval=15min&apikey=\").concat(apiKey)).then(response=>{const data=response.data;console.log(data);setstockdata(data);setlatestData(getLatestValues(data));}).catch(e=>{console.log(e);});},[]);const getLatestValues=data=>{const latestTimestamp=Object.keys(data['Time Series (15min)']).reduce((a,b)=>new Date(a)>new Date(b)?a:b);const latestData=data['Time Series (15min)'][latestTimestamp];return[latestData['1. open'],latestData['2. high'],latestData['3. low'],latestData['4. close'],latestData['5. volume']];};const handleButton=()=>{navigate('total/',{state:{symbol_name:symbol,json_data:stockdata}});};return/*#__PURE__*/_jsxs(\"div\",{className:\"card-container\",children:[/*#__PURE__*/_jsx(\"h3\",{children:symbol}),/*#__PURE__*/_jsxs(\"div\",{className:\"details\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"chart-container\",children:stockdata&&/*#__PURE__*/_jsx(CandlestickChart,{data:stockdata})}),/*#__PURE__*/_jsxs(\"div\",{className:\"data-container\",children:[/*#__PURE__*/_jsxs(\"table\",{children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"Open\"}),/*#__PURE__*/_jsx(\"th\",{children:\"High\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Low\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Close\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Volume\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:/*#__PURE__*/_jsx(\"tr\",{children:latestData.map((item,index)=>/*#__PURE__*/_jsx(\"td\",{children:item},index))})})]}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"button\",{onClick:handleButton,children:\"View Last 15 minutes data\"})]})]})]});};export default Card;","map":{"version":3,"names":["React","useState","useEffect","CandlestickChart","useNavigate","axios","jsx","_jsx","jsxs","_jsxs","Card","_ref","symbol","apiKey","process","env","REACT_APP_API_KEY","stockdata","setstockdata","latestData","setlatestData","navigate","get","concat","then","response","data","console","log","getLatestValues","catch","e","latestTimestamp","Object","keys","reduce","a","b","Date","handleButton","state","symbol_name","json_data","className","children","map","item","index","onClick"],"sources":["C:/Users/jaypa/OneDrive/Documents/django_projects/blendnet-intern/frontend/src/components/Card.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { CandlestickChart } from './CandleStickChart';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport './Card.css';\r\nimport axios from 'axios';\r\n\r\nconst Card = ({ symbol }) => {\r\n    const apiKey = process.env.REACT_APP_API_KEY;\r\n    const [stockdata, setstockdata] = useState(null);\r\n    const [latestData, setlatestData] = useState([]);\r\n    const navigate = useNavigate();\r\n\r\n    useEffect(() => {\r\n        axios.get(`https://www.alphavantage.co/query?function=TIME_SERIES_INTRADAY&symbol=${symbol}&interval=15min&apikey=${apiKey}`)\r\n            .then((response) => {\r\n                const data = response.data;\r\n                console.log(data);\r\n                setstockdata(data);\r\n                setlatestData(getLatestValues(data));\r\n            }).catch((e) => {\r\n                console.log(e);\r\n            });  \r\n    }, []);\r\n\r\n    const getLatestValues = (data) => {\r\n        const latestTimestamp = Object.keys(data['Time Series (15min)']).reduce((a, b) => new Date(a) > new Date(b) ? a : b);\r\n        const latestData = data['Time Series (15min)'][latestTimestamp];\r\n        return [\r\n            latestData['1. open'],\r\n            latestData['2. high'],\r\n            latestData['3. low'],\r\n            latestData['4. close'],\r\n            latestData['5. volume']\r\n        ];\r\n    }\r\n\r\n    const handleButton = () => {\r\n        navigate('total/', { state: { symbol_name: symbol, json_data: stockdata } });\r\n    }\r\n\r\n    return (\r\n        <div className=\"card-container\">\r\n            <h3>{symbol}</h3>\r\n            <div className='details'>\r\n                <div className=\"chart-container\">\r\n                    {stockdata && <CandlestickChart data={stockdata} />}\r\n                </div>\r\n\r\n                <div className=\"data-container\">\r\n                    <table>\r\n                        <thead>\r\n                            <tr>\r\n                                <th>Open</th>\r\n                                <th>High</th>\r\n                                <th>Low</th>\r\n                                <th>Close</th>\r\n                                <th>Volume</th>\r\n                            </tr>\r\n                        </thead>\r\n                        <tbody>\r\n                            <tr>\r\n                                {latestData.map((item, index) => <td key={index}>{item}</td>)}\r\n                            </tr>\r\n                        </tbody>\r\n                    </table>\r\n                    <br />\r\n                    <button onClick={handleButton}>View Last 15 minutes data</button>\r\n                </div>\r\n\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Card;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}