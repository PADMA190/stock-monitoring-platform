{"ast":null,"code":"import React,{useState,useEffect}from'react';import{CandlestickChart}from'./CandleStickChart';import axios from'axios';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Card=_ref=>{let{symbol}=_ref;const apiKey=process.env.REACT_APP_API_KEY;const[stockdata,setstockdata]=useState(null);const[latestData,setlatestData]=useState([]);useEffect(()=>{axios.get(\"https://www.alphavantage.co/query?function=TIME_SERIES_INTRADAY&symbol=\".concat(symbol,\"&interval=15min&apikey=\").concat(apiKey)).then(response=>{console.log(\"--->\",response.data);// // const data = response.json\n// console.log(data);\n// setstockdata(data);\n// setlatestData(getLatestValues(data));\n});},[]);const getLatestValues=data=>{const latestTimestamp=Object.keys(data['Time Series (15min)']).reduce((a,b)=>new Date(a)>new Date(b)?a:b);// Find latest timestamp\nconst latestData=data['Time Series (15min)'][latestTimestamp];return[latestData['1. open'],latestData['2. high'],latestData['3. low'],latestData['4. close'],latestData['5. volume']];};const handleButton=()=>{// Implement your logic here\n};return/*#__PURE__*/_jsxs(\"div\",{className:\"card-container\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"chart-container\",children:stockdata&&/*#__PURE__*/_jsx(CandlestickChart,{data:stockdata})}),/*#__PURE__*/_jsxs(\"div\",{className:\"data-container\",children:[/*#__PURE__*/_jsxs(\"table\",{children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"Open\"}),/*#__PURE__*/_jsx(\"th\",{children:\"High\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Low\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Close\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Volume\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:/*#__PURE__*/_jsx(\"tr\",{children:latestData.map((item,index)=>/*#__PURE__*/_jsx(\"td\",{children:item},index))})})]}),/*#__PURE__*/_jsx(\"button\",{onClick:handleButton,children:\"View Last 15 minutes data\"})]})]});};export default Card;","map":{"version":3,"names":["React","useState","useEffect","CandlestickChart","axios","jsx","_jsx","jsxs","_jsxs","Card","_ref","symbol","apiKey","process","env","REACT_APP_API_KEY","stockdata","setstockdata","latestData","setlatestData","get","concat","then","response","console","log","data","getLatestValues","latestTimestamp","Object","keys","reduce","a","b","Date","handleButton","className","children","map","item","index","onClick"],"sources":["C:/Users/jaypa/OneDrive/Documents/django_projects/blendnet-intern/frontend/src/components/Card.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { CandlestickChart } from './CandleStickChart';\r\nimport axios from 'axios';\r\n\r\nconst Card = ({ symbol }) => {\r\n    const apiKey = process.env.REACT_APP_API_KEY;\r\n    const [stockdata, setstockdata] = useState(null);\r\n    const [latestData, setlatestData] = useState([]);\r\n\r\n    useEffect(() => {\r\n        axios.get(`https://www.alphavantage.co/query?function=TIME_SERIES_INTRADAY&symbol=${symbol}&interval=15min&apikey=${apiKey}`)\r\n            .then((response) => {\r\n                console.log(\"--->\", response.data);\r\n                // // const data = response.json\r\n                // console.log(data);\r\n                // setstockdata(data);\r\n                // setlatestData(getLatestValues(data));\r\n            });\r\n    }, []);\r\n\r\n    const getLatestValues = (data) => {\r\n        const latestTimestamp = Object.keys(data['Time Series (15min)']).reduce((a, b) => new Date(a) > new Date(b) ? a : b); // Find latest timestamp\r\n        const latestData = data['Time Series (15min)'][latestTimestamp];\r\n        return [\r\n            latestData['1. open'],\r\n            latestData['2. high'],\r\n            latestData['3. low'],\r\n            latestData['4. close'],\r\n            latestData['5. volume']\r\n        ];\r\n    }\r\n\r\n    const handleButton = () => {\r\n        // Implement your logic here\r\n    }\r\n\r\n    return (\r\n        <div className=\"card-container\">\r\n            <div className=\"chart-container\">\r\n                {stockdata && <CandlestickChart data={stockdata} />}\r\n            </div>\r\n\r\n            <div className=\"data-container\">\r\n                <table>\r\n                    <thead>\r\n                        <tr>\r\n                            <th>Open</th>\r\n                            <th>High</th>\r\n                            <th>Low</th>\r\n                            <th>Close</th>\r\n                            <th>Volume</th>\r\n                        </tr>\r\n                    </thead>\r\n                    <tbody>\r\n                        <tr>\r\n                            {latestData.map((item, index) => <td key={index}>{item}</td>)}\r\n                        </tr>\r\n                    </tbody>\r\n                </table>\r\n\r\n                <button onClick={handleButton}>View Last 15 minutes data</button>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Card;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}